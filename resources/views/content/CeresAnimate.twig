{% set HeaderAnimate = config("CeresAnimate.header.animate") %}
{% set PageBodyAnimate = config("CeresAnimate.pagebody.animate") %}
{% set FooterAnimate = config("CeresAnimate.footer.animate") %}
{% set BreadcrumbsAnimate = config("CeresAnimate.breadcrumbs.animate") %}

{% set HeaderSelector = config("CeresAnimate.header.selector") %}
{% set PageBodySelector = config("CeresAnimate.pagebody.selector") %}
{% set FooterSelector = config("CeresAnimate.footer.selector") %}
{% set BreadcrumbsSelector = config("CeresAnimate.breadcrumbs.selector") %}

{% set AnimateDuration = config("CeresAnimate.animateduration") %}

<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<link rel="stylesheet" href="{{ plugin_path("CeresAnimate") }}/css/main.css">
<style>
    {{ HeaderSelector }}{
        display: none;
    }
    {{ PageBodySelector }}{
        dislay: none;
    }
    {{ FooterSelector }}{
        display: none;
    }
    {{ BreadcrumbsSelector }}{
        display: none;
    }
    .CeresAnimate{
        animation-duration: {{ AnimateDuration }}s;
        animation-fill-mode: both;
    }
</style>
<script>

var header_selector = "{{ HeaderSelector }}";
var pagebody_selector = "{{ PageBodySelector }}";
var footer_selector = "{{ FooterSelector }}";
var breadcrumbs_selector = "{{ BreadcrumbsSelector }}";

var p_animate = "{{ PageBodyAnimate }}"+" CeresAnimate non-hidden";
var h_animate = "{{ HeaderAnimate }}"+" CeresAnimate non-hidden";
var f_animate = "{{ FooterAnimate }}"+" CeresAnimate non-hidden";
var b_animate = "{{ BreadcrumbsAnimate }}"+" CeresAnimate non-hidden";

$(document).ready( function(){
    $(header_selector).removeClass('hide');
    var header_old_classes = $(header_selector).attr('class');

    $(pagebody_selector).removeClass('hide');
    var pagebody_old_classes = $(pagebody_selector).attr('class');

    $(footer_selector).removeClass('hide');
    var footer_old_classes = $(footer_selector).attr('class');


    $(breadcrumbs_selector).removeClass('hide');
    var breadcrumbs_old_classes = $(breadcrumbs_selector).attr('class');

    if(h_animate != "none" && h_animate != "")
    {
        $(header_selector).removeClass().addClass(h_animate+" "+header_old_classes).one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                    $(this).removeClass();  
                    $(this).addClass(header_old_classes);
        });    
    }
    else
    {
        $(header_selector).removeClass("hide");
    }

    if(p_animate != "none" && p_animate != "")
    {
        $(pagebody_selector).removeClass().addClass(p_animate+" "+pagebody_old_classes).one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                    $(this).removeClass();
                    $(this).addClass(pagebody_old_classes);  
        });
    }
    else
    {
        $(pagebody_selector).removeClass("hide");
    }


    if(f_animate != "none" && f_animate != "")
    {
        $(footer_selector).removeClass().addClass(f_animate+" "+footer_old_classes).one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                $(this).removeClass();
                $(this).addClass(footer_old_classes);  
        });    
    }
    else
    {
        $(footer_selector).removeClass("hide");
    }


    if(b_animate != "none" && b_animate != "")
    {
        $(breadcrumbs_selector).removeClass().addClass(b_animate+" "+breadcrumbs_old_classes).one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                $(this).removeClass();
                $(this).addClass(breadcrumbs_old_classes);  
        });
    }
    else
    {
        $(breadcrumbs_selector).removeClass("hide");
    }

});
</script>